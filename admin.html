<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Admin — Invites</title>
  <meta name="description" content="Admin panel for invite management" />
  <meta name="robots" content="noindex, nofollow" />

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link rel="stylesheet" href="/assets/css/admin.css" />
</head>
<body>
  <div class="wrap">
    <header class="topbar">
      <div>
        <div class="title">Admin</div>
        <div class="subtitle" id="adminLabel">—</div>
      </div>
      <div class="actions">
        <a class="btn ghost" href="/">Notes</a>
        <button class="btn" id="logoutBtn">Log out</button>
      </div>
    </header>

    <main class="card">
      <div class="row">
        <div>
          <h2>Invites</h2>
          <p class="muted">Create an invite link and share it with a user. The invite only shows welcome and sends to login.</p>
        </div>

        <button class="btn primary" id="createInviteBtn">Create invite</button>
      </div>

      <div class="divider"></div>

      <div class="row between">
        <div class="muted" id="stats">—</div>
        <button class="btn ghost" id="refreshBtn">Refresh</button>
      </div>

      <div class="tableWrap">
        <table class="table" aria-label="Invites table">
          <thead>
            <tr>
              <th scope="col">Code</th>
              <th scope="col">Created</th>
              <th scope="col">Status</th>
              <th scope="col"><span class="sr-only">Actions</span></th>
            </tr>
          </thead>
          <tbody id="invitesTbody">
            <tr><td colspan="4" class="muted">Loading…</td></tr>
          </tbody>
        </table>
      </div>

      <div class="toast" id="toast" role="status" aria-live="polite"></div>
      <div class="error" id="error" role="alert" aria-live="assertive"></div>
    </main>
  </div>

  <script src="/assets/js/supabaseclient.js"></script>
  <script src="/assets/js/admin.js"></script>
</body>
</html>
